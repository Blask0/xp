<!DOCTYPE HTML>
<html>
<head>
    <title>Enonic WEM Admin - Top Bar</title>
    <link rel="stylesheet" type="text/css" href="../../admin/resources/lib/ext/resources/css/ext-all.css">
    <script type="text/javascript" src="../../admin/resources/app/view/XTemplates.js"></script>
    <script type="text/javascript" src="../../admin/resources/lib/ext/ext-all-debug.js"></script>

    <link rel="stylesheet" type="text/css" href="../html-templates/css/tilebased-start-menu.css">

</head>
<body>
</body>
<script type="text/javascript">

    Ext.Loader.setConfig({
        enabled: true,
        paths: {
            'Admin': 'app'
        },
        disableCaching: false
    });

    Ext.application({
        name: 'App',
        appFolder: 'app',
        requires: ['Admin.view.StartMenu'],

        launch: function () {

            Ext.create('Ext.container.Viewport', {
                layout: {
                    type: 'hbox',
                    align: 'middle',
                    pack: 'center'
                },
                items: [
                    {
                        xtype: 'button',
                        text: 'show/hide',
                        handler: function () {

                            var is = startMenu.el.isVisible();
                            if (!is) {
                                startMenu.el.slideIn();
                            } else {
                                startMenu.el.slideOut()
                            }
                        }
                    }
                ]
            });

            var startMenu = Ext.create('Admin.view.StartMenu', {
                xtype: 'startMenu',
                items: [
                    {
                        title: 'Content Manager',
                        cls: 'span2 start-row content-manager'
                    },
                    {
                        title: 'Dashboard',
                        cls: 'span2 dashboard'
                    },
                    {
                        title: 'Profile',
                        cls: 'profile title-top title-mask',
                        img: '../html-templates/images/profile-image.png',
                        contentTpl: new Ext.XTemplate('<img src="{img}" alt=""/>')
                    },
                    {
                        title: 'Activity Stream',
                        cls: 'span2 activity title-top title-right',
                        posts: [
                            {
                                img: '../html-templates/images/profile-image.png',
                                text: 'Hello there !'
                            },
                            {
                                img: '../html-templates/images/profile-image.png',
                                text: 'What do you think about this new tile based start menu ?'
                            },
                            {
                                img: '../html-templates/images/profile-image.png',
                                text: 'Huh ?'
                            }
                        ],
                        contentTpl: new Ext.XTemplate('<tpl for="posts">' +
                                                      '<div class="item">' +
                                                      '<img src="{img}"/>' +
                                                      '<p>{text}</p>' +
                                                      '</div>' +
                                                      '</tpl>')
                    },
                    {
                        title: 'Cluster',
                        cls: 'cluster'
                    },
                    {
                        title: 'Userstores',
                        cls: 'userstores'
                    },
                    {
                        title: 'Accounts',
                        cls: 'accounts'
                    },
                    {
                        title: 'Site Administrator',
                        cls: 'span2 administrators'
                    },
                    {
                        title: 'Content Studio',
                        cls: 'content-studio'
                    },
                    {
                        title: 'Live Trace',
                        cls: 'span2 live-trace title-top title-mask'
                    },
                    {
                        title: 'Schedule',
                        cls: 'schedule'
                    }
                ]
            });

            startMenu.showAt(0, 0);
            startMenu.hide();

        }
    });

</script>

</html>