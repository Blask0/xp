<?xml version="1.0" encoding="UTF-8"?>
<blueprint xmlns="http://www.osgi.org/xmlns/blueprint/v1.0.0">

  <bean id="eventServlet" class="com.enonic.wem.admin.event.EventServlet"/>

  <service interface="javax.servlet.Servlet" ref="eventServlet">
    <service-properties>
      <entry key="alias" value="/admin/event/*"/>
    </service-properties>
  </service>

  <bean id="eventListener" class="com.enonic.wem.admin.event.EventListenerImpl">
    <property name="webSocketManager" ref="eventServlet"/>
  </bean>

  <service auto-export="interfaces" ref="eventListener"/>

</blueprint>
