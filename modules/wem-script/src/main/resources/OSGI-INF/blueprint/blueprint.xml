<?xml version="1.0" encoding="UTF-8"?>
<blueprint xmlns="http://www.osgi.org/xmlns/blueprint/v1.0.0">

  <bean id="environment" class="com.enonic.wem.script.internal.ScriptEnvironment"/>

  <bean class="com.enonic.wem.script.internal.CommandHandlerTracker" init-method="open" destroy-method="close">
    <argument index="0" ref="blueprintBundleContext"/>
    <argument index="1" ref="environment"/>
  </bean>

  <bean class="com.enonic.wem.script.internal.ScriptLibraryTracker" init-method="open" destroy-method="close">
    <argument index="0" ref="blueprintBundleContext"/>
    <argument index="1" ref="environment"/>
  </bean>

  <bean id="scriptService" class="com.enonic.wem.script.internal.ScriptServiceImpl">
    <argument index="0" ref="environment"/>
  </bean>

  <service auto-export="interfaces" ref="scriptService"/>

</blueprint>
