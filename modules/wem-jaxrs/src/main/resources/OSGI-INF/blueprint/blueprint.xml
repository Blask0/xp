<?xml version="1.0" encoding="UTF-8"?>
<blueprint xmlns="http://www.osgi.org/xmlns/blueprint/v1.0.0">

  <bean id="jaxRsServlet" class="com.enonic.wem.jaxrs.internal.JaxRsServlet"/>

  <service interface="javax.servlet.Servlet" ref="jaxRsServlet">
    <service-properties>
      <entry key="alias" value="/jaxrs/*"/>
    </service-properties>
  </service>

  <bean class="com.enonic.wem.jaxrs.internal.JaxRsTracker" init-method="open" destroy-method="close">
    <argument index="0" ref="blueprintBundleContext"/>
    <argument index="1" ref="jaxRsServlet"/>
  </bean>

  <service auto-export="interfaces">
    <bean class="com.enonic.wem.jaxrs.internal.multipart.MultipartContributor"/>
  </service>

</blueprint>
