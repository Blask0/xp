dependencies {
    compile 'org.osgi:org.osgi.core:5.0.0'
    compile 'org.osgi:org.osgi.compendium:5.0.0'
    compile 'org.apache.felix:org.apache.felix.framework:4.4.1'
    compile 'org.apache.felix:org.apache.felix.utils:1.6.0'
    compile 'com.google.guava:guava:18.0'
    compile 'commons-io:commons-io:2.4'
    compile 'ch.qos.logback:logback-classic:1.1.2'
    compile 'org.slf4j:jul-to-slf4j:1.7.10'
    compile 'org.slf4j:jcl-over-slf4j:1.7.10'
    compile 'org.slf4j:log4j-over-slf4j:1.7.10'
    compile 'org.fusesource.jansi:jansi:1.11'
}

def getOrDefault( String name, String defValue = '' )
{
    def value = project.properties[name]
    return value != null ? value : defValue
}

processResources {
    filesMatching( '**/version.properties' ) {
        expand( [version    : project.version,
                 buildHash  : getOrDefault( 'buildHash' ),
                 buildNumber: getOrDefault( 'buildNumber' )] )
    }
}
