<?xml version='1.0' encoding='UTF-8'?>
<features name="wem-${project.version}" xmlns="http://karaf.apache.org/xmlns/features/v1.2.0">

  <feature name="wem-api" version="${project.version}" description="Enonic WEM API Feature">

    <!-- Required libraries -->
    <bundle>mvn:com.enonic.osgi.bundles/jdom/2.0.5_1</bundle>
    <bundle>mvn:com.fasterxml.jackson.core/jackson-core/2.2.1</bundle>
    <bundle>mvn:com.fasterxml.jackson.core/jackson-annotations/2.2.1</bundle>
    <bundle>mvn:com.fasterxml.jackson.core/jackson-databind/2.2.1</bundle>
    <bundle>mvn:com.fasterxml.jackson.dataformat/jackson-dataformat-smile/2.2.1</bundle>
    <bundle>mvn:com.google.guava/guava/16.0.1</bundle>
    <bundle>mvn:commons-lang/commons-lang/2.4</bundle>
    <bundle>mvn:com.enonic.osgi.bundles/jparsec/2.1.0_1</bundle>
    <bundle>mvn:joda-time/joda-time/2.3</bundle>
    <bundle>mvn:org.joda/joda-convert/1.2</bundle>

    <!-- WEM API artifact -->
    <bundle>mvn:com.enonic.wem/wem-api/${project.version}</bundle>

  </feature>

  <feature name="wem-guice" version="${project.version}" description="Enonic WEM Guice Feature">

    <!-- Required features -->
    <feature>wem-api</feature>

    <!-- Required libraries -->
    <bundle>mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.aopalliance/1.0_6</bundle>
    <bundle>mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.javax-inject/1_2</bundle>
    <bundle>mvn:com.google.inject.extensions/guice-multibindings/3.0</bundle>
    <bundle>mvn:com.google.inject/guice/3.0</bundle>
    <bundle>mvn:org.ops4j/peaberry/1.3</bundle>

    <!-- WEM Guice artifact -->
    <bundle>mvn:com.enonic.wem/wem-guice/${project.version}</bundle>

  </feature>

  <feature name="wem-core" version="${project.version}" description="Enonic WEM Core Feature">

    <!-- Required features -->
    <feature>wem-guice</feature>
    <feature>http-whiteboard</feature>

    <!-- Required libraries -->
    <bundle>mvn:commons-io/commons-io/2.4</bundle>
    <bundle>mvn:com.fasterxml.jackson.datatype/jackson-datatype-joda/2.2.1</bundle>
    <bundle>mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.rhino/1.7R4_1</bundle>
    <bundle>mvn:com.samskivert/jmustache/1.9</bundle>
    <bundle>mvn:com.enonic.osgi.bundles/jhlabs-filters/2.0.235_1</bundle>
    <bundle>mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.lucene/4.7.0_1</bundle>
    <bundle>mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.lucene-analyzers-common/4.7.0_1</bundle>
    <bundle>mvn:com.enonic.osgi.bundles/elasticsearch/1.0.1_1</bundle>
    <bundle>mvn:com.sun.jersey/jersey-core/1.17.1</bundle>
    <bundle>mvn:com.sun.jersey/jersey-server/1.17.1</bundle>
    <bundle>mvn:com.sun.jersey/jersey-servlet/1.17.1</bundle>

    <!-- WEM Core artifact -->
    <bundle>mvn:com.enonic.wem/wem-core/${project.version}</bundle>

  </feature>

  <feature name="wem-admin" version="${project.version}" description="Enonic WEM Admin Feature">

    <!-- Required features -->
    <feature>wem-core</feature>

    <!-- Required libraries -->
    <bundle>mvn:com.fasterxml.jackson.jaxrs/jackson-jaxrs-base/2.2.1</bundle>
    <bundle>mvn:com.fasterxml.jackson.jaxrs/jackson-jaxrs-json-provider/2.2.1</bundle>
    <bundle>mvn:commons-fileupload/commons-fileupload/1.2.2</bundle>
    <bundle>mvn:org.jvnet/mimepull/1.6</bundle>
    <bundle>mvn:com.sun.jersey.contribs/jersey-multipart/1.17.1</bundle>

    <!-- WEM Admin artifact -->
    <bundle>mvn:com.enonic.wem/wem-admin/${project.version}</bundle>

  </feature>

  <feature name="wem-admin-ui" version="${project.version}" description="Enonic WEM Admin UI Feature">

    <!-- Required features -->
    <feature>wem-admin</feature>

    <!-- WEM Admin UI artifact -->
    <bundle>mvn:com.enonic.wem/wem-admin-ui/${project.version}</bundle>

  </feature>

  <feature name="wem-portal" version="${project.version}" description="Enonic WEM Portal Feature">

    <!-- Required features -->
    <feature>wem-core</feature>

    <!-- Required libraries -->
    <bundle>mvn:com.google.code.gson/gson/2.2.4</bundle>
    <bundle>mvn:com.enonic.osgi.bundles/saxon-he/9.5.1_1</bundle>
    <bundle>mvn:org.jsoup/jsoup/1.7.3</bundle>
    <bundle>mvn:com.enonic.osgi.bundles/attoparser/1.3.0_1</bundle>

    <!-- WEM Portal artifact -->
    <bundle>mvn:com.enonic.wem/wem-portal/${project.version}</bundle>

  </feature>

  <feature name="wem-all" version="${project.version}" description="Enonic WEM Boot Feature">

    <!-- Required features -->
    <feature>wem-admin</feature>
    <feature>wem-admin-ui</feature>
    <feature>wem-portal</feature>

    <!-- WEM Boot artifact -->
    <bundle>mvn:com.enonic.wem/wem-boot/${project.version}</bundle>

  </feature>

</features>
