dependencies {
    compile project( ':lib:lib-admin' )
    testCompile project( ':tools:testing' )
}

task copyCommonAssets( type: Copy, dependsOn: ':admin:admin-ui:build' ) {
    from '../../admin/admin-ui/build/resources/main/web/admin/common'
    into 'build/resources/main/assets/admin'
}

task copyLiveEditAssets( type: Copy, dependsOn: ':admin:admin-ui:build' ) {
    from '../../admin/admin-ui/build/resources/main/web/admin/live-edit'
    into 'build/resources/main/assets/admin/live-edit'
}

task copyDevResources( type: Copy, dependsOn: ':admin:admin-ui:build' ) {
    from '../../admin/admin-ui/build/resources/main/web/admin/common/js'
    include '**/*.d.ts'
    into 'build/resources/main/dev/d.ts'
    includeEmptyDirs false
}

task copyResources( dependsOn: [copyCommonAssets, copyLiveEditAssets, copyDevResources] ) {}

jar.dependsOn += copyResources
